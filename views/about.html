<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareCase - Revolutionizing Student Portfolios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/_base.css">
    <link rel="stylesheet" href="/css/_header.css">
    <link rel="stylesheet" href="/css/_utilities.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

    <style>
        /* Define ShareCase brand colors based on your logo */
        :root {
            --sharecase-blue: #007bff; /* Original Bootstrap primary, matching your logo's lighter blue */
            --sharecase-dark-blue: #004c8c; /* Darker blue from your logo's nodes */
            --sharecase-orange: #ffa500; /* Orange from your logo's corner */
            --sharecase-light-gray: #f8f9fa; /* For subtle backgrounds */
            --sharecase-text-color: #333;
        }

        /* Notification Styles for Header Consistency */
        .notification-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            border-bottom: 1px solid #eee;
        }
        /* Page Specific Styles */
        .hero-banner {
            background: linear-gradient(135deg, var(--sharecase-blue), var(--sharecase-dark-blue)); /* Gradient using brand blues */
            color: white;
            padding: 80px 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }
        .hero-banner h1 {
            font-size: 3rem;
            font-weight: 700;
        }
        .section-title-dynamic {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--sharecase-blue); /* Section titles in primary blue */
            border-bottom: 3px solid var(--sharecase-orange); /* Accent with orange */
            padding-bottom: 5px;
            margin-bottom: 25px;
            animation: fadeInDown 1s ease-out;
        }
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05); /* Subtle border for definition */
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
        }
        .feature-icon {
            font-size: 2.8rem; /* Slightly larger icons */
            color: var(--sharecase-orange); /* Icons in accent orange */
            margin-bottom: 15px;
            animation: bounceIn 1s ease-out; /* Add a subtle icon animation */
        }
        .feature-card .card-title {
            color: var(--sharecase-dark-blue); /* Card titles in darker blue */
            font-weight: 700;
        }
        .accordion-header button {
            font-weight: 600;
            color: var(--sharecase-text-color); /* Ensure good contrast */
        }
        .accordion-item {
            border: 1px solid var(--sharecase-light-gray);
            margin-bottom: 10px; /* Space between accordion items */
        }
        .accordion-button:not(.collapsed) {
            background-color: var(--sharecase-blue); /* Active accordion in blue */
            color: white;
        }
        .accordion-button:focus {
            box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25); /* Bootstrap-like focus */
        }
        .footer {
            background-color: var(--sharecase-dark-blue) !important; /* Dark blue footer */
            color: var(--sharecase-light-gray);
        }
        .footer a {
            color: var(--sharecase-orange); /* Footer links in orange */
        }
    </style>
</head>
<body>
    <header class="d-flex justify-content-between align-items-center">
        <div class="logo">
            <a href="/index.html">
                <img src="https://res.cloudinary.com/dphfedhek/image/upload/sharecase-logo.png" alt="ShareCase Logo" style="height: 90px;">
            </a>
        </div>
        <div class="user-menu d-flex align-items-center">
            <a href="/store-placeholder.html" class="btn btn-outline-dark me-3" id="storeButton" aria-label="Store" title="Store Placeholder">
                <i class="fas fa-store"></i>
            </a>
            <div class="dropdown">
                <button class="btn btn-outline-dark me-2" id="notificationButton" aria-label="Notifications" title="Notifications" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-bell"></i>
                    <span class="badge bg-danger" id="notificationCount" style="display: none;">0</span>
                </button>
                <div class="dropdown-menu dropdown-menu-end" id="notificationDropdown" style="min-width: 300px;">
                    <div class="dropdown-header">Notifications</div>
                    <div id="notificationList">
                        <div class="dropdown-item-text">No new notifications</div>
                    </div>
                </div>
            </div>
            <div class="profile-container" id="userMenuToggle" style="display: none;">
                <img id="headerProfilePic" src="https://res.cloudinary.com/dphfedhek/image/upload/default-profile.jpg" alt="Profile Picture">
                <span id="headerProfileName">Guest</span>
                <div class="dropdown-menu" id="userDropdown">
                    <a href="/profile.html" class="dropdown-item">Profile</a>
                    <a href="/settings.html" class="dropdown-item">Settings</a>
                    <a href="/upload-project.html" class="dropdown-item">Upload Project</a>
                    <a id="adminDashboardLink" href="/admin/dashboard.html" class="dropdown-item" style="display: none;">Admin Dashboard</a>
                    <a id="logoutLink" href="/logout" class="dropdown-item">Logout</a>
                    <a href="/about.html" class="dropdown-item">About</a>
                    <div class="dropdown-item-text text-muted small mt-2">
                        Role: <span id="userRoleDisplay"></span><br>
                        Points: <span id="userPointsDisplay"></span>
                    </div>
                </div>
            </div>
            <div id="authControls" style="display: none;">
                <a href="/login.html" class="btn btn-primary btn-sm">Login</a>
                <a href="/signup.html" class="btn btn-outline-primary btn-sm ms-2">Sign Up</a>
            </div>
        </div>
    </header>
    <main>
        <div class="hero-banner text-center">
            <div class="container">
                <h1 class="animate__animated animate__fadeInUp">ShareCase: Where Innovation Meets Exposure</h1>
                <p class="lead mt-3 animate__animated animate__fadeInDown">Turning academic projects into career launchpads. Stop filing, start sharing.</p>
            </div>
        </div>
        
        <div class="container my-5">
            <div class="row">
                <div class="col-lg-12">
                    <h2 class="section-title-dynamic text-center mb-5">The Problem & Our Promise üí°</h2>
                    <p class="lead text-center">Every semester, brilliant student work vanishes into old hard drives and forgotten folders. ShareCase changes that by creating a persistent, dynamic repository for **all** university projects.</p>
                </div>
            </div>

            <div class="row row-cols-1 row-cols-md-3 g-4 text-center mt-4">
                <div class="col">
                    <div class="card p-4 feature-card">
                        <i class="feature-icon fas fa-users"></i>
                        <h4 class="card-title">**Collaborate & Inspire**</h4>
                        <p class="card-text">Find prior work, connect with project creators, and build on existing knowledge. Minimize redundant effort, maximize innovation.</p>
                    </div>
                </div>
                <div class="col">
                    <div class="card p-4 feature-card">
                        <i class="feature-icon fas fa-briefcase"></i>
                        <h4 class="card-title">**Portfolio, Automated**</h4>
                        <p class="card-text">Instantly convert your best projects into a clean, professional, shareable portfolio ready for employers and grad schools.</p>
                    </div>
                </div>
                <div class="col">
                    <div class="card p-4 feature-card">
                        <i class="feature-icon fas fa-lock"></i>
                        <h4 class="card-title">**Integrity First**</h4>
                        <p class="card-text">We emphasize ethical use. You own your work; we protect its integrity while facilitating educational sharing‚Äînot resubmission.</p>
                    </div>
                </div>
            </div>

            <h2 class="section-title-dynamic mt-5 pt-5 text-center">Your Questions, Answered ‚ùì</h2>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                            How do I ensure my work isn't plagiarized?
                        </button>
                    </h2>
                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            ShareCase is an **educational tool** for reference and inspiration. While you retain full ownership, we explicitly promote academic honesty. **We recommend consulting your course syllabus and instructor** regarding the permissible use of external project examples. You can also utilize our **Private** setting in <a href="/settings.html">Settings</a> for maximum security.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                            What kind of files can I upload and view?
                        </button>
                    </h2>
                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We support a wide range of academic output: **Engineering** (3D CAD files like `.gltf`, `.stl`, `.step`), **Design** (images, renders), **Software** (code links, prototypes), and **Reports** (PDFs, documentation). Our system includes specialized viewers for popular file types.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                            How do I get points and what are they for?
                        </button>
                    </h2>
                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Points reward engagement! You earn them for uploading projects, receiving likes and comments, and helping the community. Currently, points serve as a metric of **community impact and credibility**. Future plans include integrating points with exclusive platform features.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer py-4 mt-5">
        <div class="container text-center">
            <p class="mb-1">Platform founded by Gideon T. Okutu (Mechanical Engineering Student).</p>
            <p>For support, collaboration inquiries, or feedback, reach us at <a href="mailto:support@sharecase.com" class="text-info">support@sharecase.com</a>.</p>
            <p class="mb-0">&copy; 2025 ShareCase. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="/js/scripts.js"></script>
    
    <script>
        // --- Local Notification Functions (Required for Header) ---
        async function deleteNotification(notificationId) {
            if (!confirm('Remove this notification?')) return;
            try {
                const response = await fetch(`/notifications/${notificationId}`, {
                    method: 'DELETE', credentials: 'include'
                });
                if (response.ok) {
                    Toastify({ text: 'Notification removed.', duration: 2000, style: { background: '#ff5858' } }).showToast();
                    fetchNotifications(); 
                } else {
                    const data = await response.json();
                    throw new Error(data.error || 'Failed to remove notification.');
                }
            } catch (error) {
                console.error('Error deleting notification:', error);
                Toastify({ text: error.message, duration: 3000, style: { background: '#e74c3c' } }).showToast();
            }
        }

        async function fetchNotifications() {
            const notificationList = document.getElementById('notificationList');
            const notificationCount = document.getElementById('notificationCount');
            if (!notificationList || !notificationCount) return;

            notificationList.innerHTML = '<div class="dropdown-item-text text-muted">Fetching...</div>';
            notificationCount.style.display = 'none';

            try {
                const response = await fetch('/notifications', { credentials: 'include' });
                if (response.status === 401) {
                    notificationList.innerHTML = '<div class="dropdown-item-text">Please log in to view notifications.</div>';
                    return;
                }
                if (!response.ok) {
                    throw new Error(`Failed to fetch notifications: Status ${response.status}`);
                }
                const notifications = await response.json();
                const unreadCount = notifications.filter(n => !n.read).length;
                
                notificationList.innerHTML = notifications.length > 0
                    ? notifications.map(n => `
                        <div class="notification-item ${n.read ? '' : 'unread'}" data-id="${n._id}" title="${n.read ? 'Read' : 'Unread'}">
                            <span class="message">${n.message}</span>
                            <button class="btn btn-link btn-sm text-danger p-0" onclick="deleteNotification('${n._id}')" aria-label="Remove notification">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `).join('')
                    : '<div class="dropdown-item-text">No new notifications</div>';
                    
                notificationCount.textContent = unreadCount;
                notificationCount.style.display = unreadCount > 0 ? 'inline' : 'none';

            } catch (error) {
                console.error('Error fetching notifications:', error);
                document.getElementById('notificationList').innerHTML = `<div class="dropdown-item-text text-danger">Error loading: ${error.message}</div>`;
                document.getElementById('notificationCount').style.display = 'none';
                Toastify({ text: 'Error loading notifications.', duration: 5000, style: { background: '#e74c3c' } }).showToast();
            }
        }
        
        // --- Main Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            window.loadUserProfileInHeader();
            
            const notificationButton = document.getElementById('notificationButton');
            if (notificationButton) {
                notificationButton.addEventListener('shown.bs.dropdown', () => {
                    fetchNotifications(); 
                });
                window.deleteNotification = deleteNotification;
            }
        });
    </script>
</body>
</html>